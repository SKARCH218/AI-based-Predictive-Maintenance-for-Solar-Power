<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0b1220" />
    <title>ÌÉúÏñëÏó¥ Î∞úÏ†ÑÎüâ Î™®ÎãàÌÑ∞ÎßÅ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <div class="header-bar">
            <h1>ÌÉúÏñëÏó¥ Î∞úÏ†Ñ Î™®ÎãàÌÑ∞ÎßÅ</h1>
            <div class="filters">
                <label for="boardSelect">Î≥¥Îìú:</label>
                <select id="boardSelect"></select>
                <span class="status-wrap"><span id="status_badge" class="badge">-</span></span>
            </div>
        </div>

        <div class="tabs">
            <div class="tab-nav" role="tablist">
                <button class="tab-link active" data-target="#tab-panels">Ìå®ÎÑê</button>
                <button class="tab-link" data-target="#tab-graph">Í∑∏ÎûòÌîÑ</button>
                <button class="tab-link" data-target="#tab-prediction">ÏòàÏßÄÎ≥¥Ï†Ñ</button>
            </div>
            <div class="tab-content">
                <section id="tab-panels" class="tab-pane active">
                    <h2>Ìå®ÎÑê Î∞∞Ïπò(5 x 6) + Ï∂ïÎ≥Ñ ÏµúÏã†Í∞í</h2>
                    <div class="content-split">
                        <div class="content-left">
                            <div class="board">
                                <div id="panelGrid" class="panel-grid"></div>
                                <div id="rowLabels" class="row-labels"></div>
                                <div id="colLabels" class="col-labels"></div>
                            </div>
                        </div>
                        <aside class="content-right">
                            <div class="data-display">
                                <p><strong>Bus Voltage:</strong> <span id="busVoltage">N/A</span> V</p>
                                <p><strong>Shunt Voltage:</strong> <span id="shuntVoltage">N/A</span> mV</p>
                                <p><strong>Load Voltage:</strong> <span id="loadVoltage">N/A</span> V</p>
                                <p><strong>Current:</strong> <span id="current_mA">N/A</span> mA</p>
                                <p><strong>Power:</strong> <span id="power_mW">N/A</span> mW</p>
                                <p><strong>ÎàÑÏ†Å Î∞úÏ†ÑÎüâ:</strong> <span id="accumulatedEnergy_mWh">N/A</span> mWh</p>
                                <p><strong>Last Update:</strong> <span id="last_updated">N/A</span></p>
                            </div>
                        </aside>
                    </div>
                </section>
                <section id="tab-graph" class="tab-pane">
                    <div class="chart-container">
                        <canvas id="powerChart"></canvas>
                    </div>
                </section>
                <section id="tab-prediction" class="tab-pane">
                    <h2>CNN Í∏∞Î∞ò ÏòàÏßÄÎ≥¥Ï†Ñ</h2>
                    <div class="prediction-container">
                        <!-- CNN ÏòàÏ∏° Í≤∞Í≥º -->
                        <div class="prediction-card">
                            <h3>Ïã§ÏãúÍ∞Ñ ÏòàÏ∏°</h3>
                            <div class="prediction-status">
                                <div class="status-indicator" id="cnn-status-indicator">
                                    <span class="status-label" id="cnn-status-label">Î∂ÑÏÑù Ï§ë...</span>
                                    <span class="confidence-badge" id="cnn-confidence">-</span>
                                </div>
                                <div class="status-details">
                                    <p><strong>Î™®Îç∏ Î≤ÑÏ†Ñ:</strong> <span id="cnn-model-version">-</span></p>
                                    <p><strong>ÎßàÏßÄÎßâ Î∂ÑÏÑù:</strong> <span id="cnn-last-update">-</span></p>
                                    <p><strong>Î∂ÑÏÑù ÎåÄÏÉÅ:</strong> <span id="cnn-board-id">-</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Ìå®ÌÑ¥ ÏãúÍ∞ÅÌôî -->
                        <div class="prediction-card">
                            <h3>ÏãúÍ≥ÑÏó¥ Ìå®ÌÑ¥</h3>
                            <div class="pattern-viz">
                                <canvas id="patternCanvas" width="200" height="200"></canvas>
                                <p class="pattern-desc">GAF/MTF Ïù¥ÎØ∏ÏßÄ Î≥ÄÌôò</p>
                            </div>
                        </div>

                        <!-- ÌôïÏã†ÎèÑ Î∂ÑÌè¨ -->
                        <div class="prediction-card full-width">
                            <h3>ÌÅ¥ÎûòÏä§Î≥Ñ ÌôïÏã†ÎèÑ</h3>
                            <div class="confidence-bars">
                                <div class="conf-bar-item">
                                    <label>NORMAL</label>
                                    <div class="conf-bar">
                                        <div class="conf-fill normal" id="conf-normal" style="width: 0%"></div>
                                    </div>
                                    <span class="conf-value" id="conf-normal-val">0%</span>
                                </div>
                                <div class="conf-bar-item">
                                    <label>WARNING</label>
                                    <div class="conf-bar">
                                        <div class="conf-fill warning" id="conf-warning" style="width: 0%"></div>
                                    </div>
                                    <span class="conf-value" id="conf-warning-val">0%</span>
                                </div>
                                <div class="conf-bar-item">
                                    <label>ALERT</label>
                                    <div class="conf-bar">
                                        <div class="conf-fill alert" id="conf-alert" style="width: 0%"></div>
                                    </div>
                                    <span class="conf-value" id="conf-alert-val">0%</span>
                                </div>
                                <div class="conf-bar-item">
                                    <label>CRITICAL</label>
                                    <div class="conf-bar">
                                        <div class="conf-fill critical" id="conf-critical" style="width: 0%"></div>
                                    </div>
                                    <span class="conf-value" id="conf-critical-val">0%</span>
                                </div>
                            </div>
                        </div>

                        <!-- ÌûàÏä§ÌÜ†Î¶¨ Ï∞®Ìä∏ -->
                        <div class="prediction-card full-width">
                            <h3>ÏòàÏ∏° ÌûàÏä§ÌÜ†Î¶¨</h3>
                            <div class="chart-container-small">
                                <canvas id="predictionHistoryChart"></canvas>
                            </div>
                        </div>

                        <!-- ÍµêÏ≤¥ ÎÇ†Ïßú ÏòàÏ∏° -->
                        <div class="prediction-card full-width replacement-prediction">
                            <h3>üîß ÍµêÏ≤¥ ÏòàÏ†ï ÎÇ†Ïßú</h3>
                            <div class="replacement-info">
                                <div class="replacement-main">
                                    <div class="replacement-date-section">
                                        <span class="replacement-label">ÏòàÏÉÅ ÍµêÏ≤¥Ïùº</span>
                                        <div class="replacement-date" id="replacement-date">Í≥ÑÏÇ∞ Ï§ë...</div>
                                        <span class="replacement-confidence" id="replacement-confidence">-</span>
                                    </div>
                                    <div class="replacement-details">
                                        <div class="detail-row">
                                            <span class="detail-label">ÌòÑÏû¨ ÏÉÅÌÉú:</span>
                                            <span class="detail-value" id="current-health-status">-</span>
                                        </div>
                                        <div class="detail-row">
                                            <span class="detail-label">ÎÇ®ÏùÄ ÏùºÏàò:</span>
                                            <span class="detail-value" id="days-remaining">-</span>
                                        </div>
                                        <div class="detail-row">
                                            <span class="detail-label">ÏúÑÌóòÎèÑ:</span>
                                            <span class="detail-value" id="risk-level">-</span>
                                        </div>
                                        <div class="detail-row">
                                            <span class="detail-label">Ïó¥Ìôî ÏÜçÎèÑ:</span>
                                            <span class="detail-value" id="degradation-rate">-</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="replacement-chart">
                                    <canvas id="replacementTrendChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- Î™®Îç∏ ÏÑ±Îä• -->
                        <div class="prediction-card full-width">
                            <h3>Î™®Îç∏ ÏÑ±Îä• ÏßÄÌëú</h3>
                            <div class="model-metrics">
                                <div class="metric-item">
                                    <span class="metric-label">Ï†ïÌôïÎèÑ</span>
                                    <span class="metric-value" id="model-accuracy">-</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">F1 Score</span>
                                    <span class="metric-value" id="model-f1">-</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">ÏòàÏ∏° ÏÉòÌîå</span>
                                    <span class="metric-value" id="model-samples">-</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">ÌïôÏäµ Îç∞Ïù¥ÌÑ∞</span>
                                    <span class="metric-value" id="model-training-size">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
